
> db-modeler@1.0.0 dev /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler
> nodemon src/server.js

[33m[nodemon] 3.1.7[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 数据库同步完成 {"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 开始检查管理员账号 {"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 管理员账号检查结果: {"exists":false,"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 准备创建管理员账号... {"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 生成密码哈希... {"password":"admin123","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 密码哈希生成完成 {"hashedPassword":"$2a$10$Pba6dnJqxRZQQ3VbUCWhue3.DyolVwa9cASOOKDv6Iz.b0iNatGE6","service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
创建用户前的密码处理: {
  originalPassword: '$2a$10$Pba6dnJqxRZQQ3VbUCWhue3.DyolVwa9cASOOKDv6Iz.b0iNatGE6',
  type: 'string',
  length: 60
}
密码已哈希: {
  hashedPassword: '$2a$10$s3UziWA2B.OUWBUvWrA06.ntD78Pfr0QAe3pGouB5bsDYZ8NPkwGS',
  type: 'string',
  length: 60
}
[32minfo[39m: 管理员账号创建完成: {"email":"admin@example.com","id":"d2a56482-abad-40cb-990c-29a5de322129","passwordHash":"$2a$10$Pba6dnJqxRZQQ3VbUCWhue3.DyolVwa9cASOOKDv6Iz.b0iNatGE6","role":"admin","service":"db-modeler","status":"active","success":true,"timestamp":"2024-12-04 13:17:08","username":"admin"}
开始验证密码: {
  inputPassword: 'admin123',
  inputType: 'string',
  inputLength: 8,
  storedHash: '$2a$10$s3UziWA2B.OUWBUvWrA06.ntD78Pfr0QAe3pGouB5bsDYZ8NPkwGS',
  storedType: 'string',
  storedLength: 60
}
密码验证结果: { inputPassword: 'admin123', passwordValid: false }
[32minfo[39m: 验证新创建的管理员密码: {"inputPassword":"admin123","isValid":false,"service":"db-modeler","storedHash":"$2a$10$s3UziWA2B.OUWBUvWrA06.ntD78Pfr0QAe3pGouB5bsDYZ8NPkwGS","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 数据库和模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 服务器运行在 http://localhost:5001 {"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
[32minfo[39m: 环境: development {"service":"db-modeler","timestamp":"2024-12-04 13:17:08"}
info: Request processed {"duration":2,"ip":"::1","method":"OPTIONS","path":"/api/v1/auth/login","requestId":"af835568-45d2-4fc0-9041-7d7d64307221","statusCode":204,"timestamp":"2024-12-04T05:18:42.143Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'OPTIONS', path: '/api/v1/auth/login' },
  duration: 3,
  memory: {
    rss: { before: 102809600, after: 103186432, change: 376832 },
    heapUsed: { before: 40203464, after: 40252344, change: 48880 }
  },
  cpu: { user: 1990, system: 450 },
  systemLoad: [ 4.3154296875, 5.2685546875, 5.51025390625 ]
}
登录尝试: { username: 'testuser4', passwordType: 'string', passwordLength: 9 }
用户模型初始化成功
Executing (default): SELECT `id`, `username`, `email`, `password`, `role`, `status` FROM `user` AS `User` WHERE `User`.`username` = 'testuser4';
用户未找到: testuser4
error: Request failed {"duration":19,"ip":"::1","method":"POST","path":"/login","requestId":"6cb004be-4b8c-43d9-8b12-87fc9563489c","statusCode":401,"timestamp":"2024-12-04T05:18:42.163Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'POST', path: '/login' },
  duration: 20,
  memory: {
    rss: { before: 103301120, after: 104120320, change: 819200 },
    heapUsed: { before: 40525224, after: 41597016, change: 1071792 }
  },
  cpu: { user: 10073, system: 2504 },
  systemLoad: [ 4.3154296875, 5.2685546875, 5.51025390625 ]
}
info: Request processed {"duration":1,"ip":"::1","method":"OPTIONS","path":"/api/v1/auth/register","requestId":"d8f8b89e-e511-48fa-83b0-fc612f7b5a25","statusCode":204,"timestamp":"2024-12-04T05:18:48.903Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'OPTIONS', path: '/api/v1/auth/register' },
  duration: 1,
  memory: {
    rss: { before: 104153088, after: 104185856, change: 32768 },
    heapUsed: { before: 41643008, after: 41670720, change: 27712 }
  },
  cpu: { user: 460, system: 152 },
  systemLoad: [ 4.5302734375, 5.296875, 5.5185546875 ]
}
注册请求: {
  username: 'testuser4',
  email: 'testuser4@cm.com',
  passwordType: 'string',
  passwordLength: 9
}
用户模型初始化成功
Executing (default): SELECT `id`, `username`, `email`, `password`, `role`, `lastLogin`, `status`, `createdAt`, `updatedAt` FROM `user` AS `User` WHERE (`User`.`username` = 'testuser4' OR `User`.`email` = 'testuser4@cm.com') LIMIT 1;
开始创建新用户...
创建用户前的密码处理: { originalPassword: 'testuser4', type: 'string', length: 9 }
密码已哈希: {
  hashedPassword: '$2a$10$iJ1BgIFdY88DzUYjq/XLm.K9CkmY3jMvcNN1jx4zGQqVOzgIiVKUm',
  type: 'string',
  length: 60
}
Executing (default): INSERT INTO `user` (`id`,`username`,`email`,`password`,`role`,`status`,`createdAt`,`updatedAt`) VALUES (?,?,?,?,?,?,?,?);
新用户创建成功: {
  id: 'b01d3436-3221-444a-969c-6c4299f11e0f',
  username: 'testuser4',
  email: 'testuser4@cm.com',
  hashedPassword: '$2a$10$iJ1BgIFdY88DzUYjq/XLm.K9CkmY3jMvcNN1jx4zGQqVOzgIiVKUm',
  passwordType: 'string',
  passwordLength: 60
}
info: Request processed {"duration":103,"ip":"::1","method":"POST","path":"/register","requestId":"df01989e-dba2-45d4-8e31-041acb10ea76","statusCode":201,"timestamp":"2024-12-04T05:18:49.008Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'POST', path: '/register' },
  duration: 104,
  memory: {
    rss: { before: 104251392, after: 104759296, change: 507904 },
    heapUsed: { before: 41717168, after: 42065512, change: 348344 }
  },
  cpu: { user: 92279, system: 2122 },
  systemLoad: [ 4.5302734375, 5.296875, 5.5185546875 ]
}
info: Request processed {"duration":0,"ip":"::1","method":"OPTIONS","path":"/api/v1/auth/login","requestId":"51a0d338-32a8-4e2e-809f-6e44ee223403","statusCode":204,"timestamp":"2024-12-04T05:18:50.443Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'OPTIONS', path: '/api/v1/auth/login' },
  duration: 0,
  memory: {
    rss: { before: 104808448, after: 104841216, change: 32768 },
    heapUsed: { before: 42102720, after: 42130600, change: 27880 }
  },
  cpu: { user: 600, system: 150 },
  systemLoad: [ 4.64794921875, 5.30810546875, 5.52099609375 ]
}
登录尝试: { username: 'testuser4', passwordType: 'string', passwordLength: 9 }
用户模型初始化成功
Executing (default): SELECT `id`, `username`, `email`, `password`, `role`, `status` FROM `user` AS `User` WHERE `User`.`username` = 'testuser4';
找到用户: {
  id: 'b01d3436-3221-444a-969c-6c4299f11e0f',
  username: 'testuser4',
  hashedPassword: '$2a$10$iJ1BgIFdY88DzUYjq/XLm.K9CkmY3jMvcNN1jx4zGQqVOzgIiVKUm',
  passwordType: 'string',
  passwordLength: 60
}
开始验证密码: {
  inputPassword: 'testuser4',
  inputType: 'string',
  inputLength: 9,
  storedHash: '$2a$10$iJ1BgIFdY88DzUYjq/XLm.K9CkmY3jMvcNN1jx4zGQqVOzgIiVKUm',
  storedType: 'string',
  storedLength: 60
}
密码验证结果: { inputPassword: 'testuser4', passwordValid: true }
密码验证结果: true
生成 JWT token...
Executing (default): UPDATE `user` SET `lastLogin`=?,`updatedAt`=? WHERE `id` = ?
登录成功: testuser4
info: Request processed {"duration":97,"ip":"::1","method":"POST","path":"/login","requestId":"091f8b62-62aa-462d-ab80-55bc30b1ecb9","statusCode":200,"timestamp":"2024-12-04T05:18:50.541Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'POST', path: '/login' },
  duration: 96,
  memory: {
    rss: { before: 104890368, after: 104579072, change: -311296 },
    heapUsed: { before: 42175008, after: 42073664, change: -101344 }
  },
  cpu: { user: 87183, system: 1840 },
  systemLoad: [ 4.64794921875, 5.30810546875, 5.52099609375 ]
}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:18:50"}
初始化用户模型失败 TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
认证中间件错误: TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
error: Request failed {"duration":21,"ip":"::1","method":"GET","path":"/","requestId":"79abd6a4-79a6-43d1-9089-a7d82cea8ce0","statusCode":500,"timestamp":"2024-12-04T05:18:50.574Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'GET', path: '/' },
  duration: 22,
  memory: {
    rss: { before: 104611840, after: 106496000, change: 1884160 },
    heapUsed: { before: 42109808, after: 44154664, change: 2044856 }
  },
  cpu: { user: 10368, system: 3379 },
  systemLoad: [ 4.64794921875, 5.30810546875, 5.52099609375 ]
}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:18:50"}
初始化用户模型失败 TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
认证中间件错误: TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
error: Request failed {"duration":15,"ip":"::1","method":"GET","path":"/","requestId":"80284f32-5420-4c47-a4c6-387123e2b39b","statusCode":500,"timestamp":"2024-12-04T05:18:50.591Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'GET', path: '/' },
  duration: 15,
  memory: {
    rss: { before: 106545152, after: 109969408, change: 3424256 },
    heapUsed: { before: 44197464, after: 46532536, change: 2335072 }
  },
  cpu: { user: 6990, system: 2202 },
  systemLoad: [ 4.64794921875, 5.30810546875, 5.52099609375 ]
}
info: Request processed {"duration":1,"ip":"::1","method":"OPTIONS","path":"/api/v1/auth/login","requestId":"c4636b41-3f98-4b96-9c79-9c1726a595d4","statusCode":204,"timestamp":"2024-12-04T05:19:01.570Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'OPTIONS', path: '/api/v1/auth/login' },
  duration: 1,
  memory: {
    rss: { before: 108724224, after: 108756992, change: 32768 },
    heapUsed: { before: 46307712, after: 46338288, change: 30576 }
  },
  cpu: { user: 807, system: 222 },
  systemLoad: [ 5.1083984375, 5.380859375, 5.54345703125 ]
}
登录尝试: { username: 'testuser4', passwordType: 'string', passwordLength: 9 }
用户模型初始化成功
Executing (default): SELECT `id`, `username`, `email`, `password`, `role`, `status` FROM `user` AS `User` WHERE `User`.`username` = 'testuser4';
找到用户: {
  id: 'b01d3436-3221-444a-969c-6c4299f11e0f',
  username: 'testuser4',
  hashedPassword: '$2a$10$iJ1BgIFdY88DzUYjq/XLm.K9CkmY3jMvcNN1jx4zGQqVOzgIiVKUm',
  passwordType: 'string',
  passwordLength: 60
}
开始验证密码: {
  inputPassword: 'testuser4',
  inputType: 'string',
  inputLength: 9,
  storedHash: '$2a$10$iJ1BgIFdY88DzUYjq/XLm.K9CkmY3jMvcNN1jx4zGQqVOzgIiVKUm',
  storedType: 'string',
  storedLength: 60
}
密码验证结果: { inputPassword: 'testuser4', passwordValid: true }
密码验证结果: true
生成 JWT token...
Executing (default): UPDATE `user` SET `lastLogin`=?,`updatedAt`=? WHERE `id` = ?
登录成功: testuser4
info: Request processed {"duration":101,"ip":"::1","method":"POST","path":"/login","requestId":"2d108034-5950-45ad-b643-990a2cda0141","statusCode":200,"timestamp":"2024-12-04T05:19:01.674Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'POST', path: '/login' },
  duration: 101,
  memory: {
    rss: { before: 108822528, after: 110542848, change: 1720320 },
    heapUsed: { before: 46375608, after: 47160760, change: 785152 }
  },
  cpu: { user: 95894, system: 3050 },
  systemLoad: [ 5.1083984375, 5.380859375, 5.54345703125 ]
}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:19:01"}
初始化用户模型失败 TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
认证中间件错误: TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
error: Request failed {"duration":19,"ip":"::1","method":"GET","path":"/","requestId":"0ba81b55-e19f-43a8-90ff-b5afb211b57b","statusCode":500,"timestamp":"2024-12-04T05:19:01.708Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'GET', path: '/' },
  duration: 19,
  memory: {
    rss: { before: 110575616, after: 112705536, change: 2129920 },
    heapUsed: { before: 47191520, after: 49395608, change: 2204088 }
  },
  cpu: { user: 26095, system: 4902 },
  systemLoad: [ 5.1083984375, 5.380859375, 5.54345703125 ]
}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:19:01"}
初始化用户模型失败 TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
认证中间件错误: TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
error: Request failed {"duration":19,"ip":"::1","method":"GET","path":"/","requestId":"7ea84f32-59ef-4398-9ee4-5004963ea5ab","statusCode":500,"timestamp":"2024-12-04T05:19:01.728Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'GET', path: '/' },
  duration: 19,
  memory: {
    rss: { before: 112754688, after: 111116288, change: -1638400 },
    heapUsed: { before: 49439568, after: 41777664, change: -7661904 }
  },
  cpu: { user: 21634, system: 3864 },
  systemLoad: [ 5.1083984375, 5.380859375, 5.54345703125 ]
}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:19:24"}
初始化用户模型失败 TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
认证中间件错误: TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
error: Request failed {"duration":18,"ip":"::1","method":"GET","path":"/","requestId":"9e49c37b-a664-4a6d-a593-fca2311c8ac8","statusCode":500,"timestamp":"2024-12-04T05:19:24.363Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'GET', path: '/' },
  duration: 18,
  memory: {
    rss: { before: 111230976, after: 111738880, change: 507904 },
    heapUsed: { before: 41879984, after: 43926928, change: 2046944 }
  },
  cpu: { user: 8061, system: 3077 },
  systemLoad: [ 5.8427734375, 5.5654296875, 5.6064453125 ]
}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:19:24"}
初始化用户模型失败 TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
认证中间件错误: TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
error: Request failed {"duration":17,"ip":"::1","method":"GET","path":"/","requestId":"59b64725-f531-42c8-b28e-285d5c5fc638","statusCode":500,"timestamp":"2024-12-04T05:19:24.381Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'GET', path: '/' },
  duration: 17,
  memory: {
    rss: { before: 111788032, after: 113852416, change: 2064384 },
    heapUsed: { before: 43968944, after: 46045952, change: 2077008 }
  },
  cpu: { user: 7784, system: 2911 },
  systemLoad: [ 5.8427734375, 5.5654296875, 5.6064453125 ]
}
info: Request processed {"duration":0,"ip":"::1","method":"OPTIONS","path":"/api/v1/profile","requestId":"bc382f85-fea3-493c-bcd6-588fd842fd25","statusCode":204,"timestamp":"2024-12-04T05:20:09.683Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'OPTIONS', path: '/api/v1/profile' },
  duration: 0,
  memory: {
    rss: { before: 113950720, after: 113967104, change: 16384 },
    heapUsed: { before: 46131584, after: 46160720, change: 29136 }
  },
  cpu: { user: 278, system: 62 },
  systemLoad: [ 7.9033203125, 6.1865234375, 5.83447265625 ]
}
高内存使用率警告 {
  totalMemory: 68719476736,
  freeMemory: 484573184,
  usedMemoryPercentage: 99.29485321044922
}
高内存使用率警告 {
  totalMemory: 68719476736,
  freeMemory: 450215936,
  usedMemoryPercentage: 99.34484958648682
}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:20:13"}
初始化用户模型失败 TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
认证中间件错误: TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
error: Request failed {"duration":21,"ip":"::1","method":"GET","path":"/","requestId":"90f0d3ce-b20f-449f-b10c-21d8c0bc5f3b","statusCode":500,"timestamp":"2024-12-04T05:20:13.250Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'GET', path: '/' },
  duration: 21,
  memory: {
    rss: { before: 114114560, after: 116047872, change: 1933312 },
    heapUsed: { before: 46300256, after: 48225952, change: 1925696 }
  },
  cpu: { user: 8934, system: 3341 },
  systemLoad: [ 7.9033203125, 6.1865234375, 5.83447265625 ]
}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:20:13"}
初始化用户模型失败 TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
认证中间件错误: TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at initUserModelAsync (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:9:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async authMiddleware (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/middleware/authMiddleware.js:19:23)
error: Request failed {"duration":40,"ip":"::1","method":"GET","path":"/","requestId":"e9ddbf67-3708-4413-83a2-aabe79c68e30","statusCode":500,"timestamp":"2024-12-04T05:20:13.291Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'GET', path: '/' },
  duration: 39,
  memory: {
    rss: { before: 116080640, after: 108740608, change: -7340032 },
    heapUsed: { before: 48267640, after: 41044976, change: -7222664 }
  },
  cpu: { user: 49493, system: 9894 },
  systemLoad: [ 7.9033203125, 6.1865234375, 5.83447265625 ]
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
DatabaseController 初始化成功
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[31merror[39m: 数据库初始化失败 {"error":"Duplicate key name 'tables_name'","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:21:34"}
[31merror[39m: 服务器启动失败 Duplicate key name 'tables_name' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:21:34"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
DatabaseController 初始化成功
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[31merror[39m: 数据库初始化失败 {"error":"Duplicate key name 'tables_name'","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:34:21"}
[31merror[39m: 服务器启动失败 Duplicate key name 'tables_name' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:34:21"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
DatabaseController 初始化成功
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[31merror[39m: 数据库初始化失败 {"error":"Duplicate key name 'tables_name'","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:57:05"}
[31merror[39m: 服务器启动失败 Duplicate key name 'tables_name' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:57:05"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
DatabaseController 初始化成功
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[31merror[39m: 数据库初始化失败 {"error":"Duplicate key name 'tables_name'","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:57:29"}
[31merror[39m: 服务器启动失败 Duplicate key name 'tables_name' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:57:29"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:16:37"}
[31merror[39m: 数据库初始化失败: model.sync is not a function {"service":"db-modeler","stack":"TypeError: model.sync is not a function\n    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 14:16:37"}
UserController 初始化失败 TypeError: model.sync is not a function
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

TypeError: model.sync is not a function
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:43:11"}
[31merror[39m: 数据库初始化失败: model.sync is not a function {"service":"db-modeler","stack":"TypeError: model.sync is not a function\n    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 14:43:11"}
初始化 Sequelize 实例失败 TypeError: model.sync is not a function
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1
DatabaseController 初始化失败: TypeError: model.sync is not a function
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: model.sync is not a function
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:43:20"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:43:21"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:43:24"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:43:24"}
[31merror[39m: 数据库初始化失败: Deadlock found when trying to get lock; try restarting transaction {"name":"SequelizeDatabaseError","original":{"code":"ER_LOCK_DEADLOCK","errno":1213,"sql":"ALTER TABLE `Roles` CHANGE `created_at` `created_at` DATETIME NOT NULL;","sqlMessage":"Deadlock found when trying to get lock; try restarting transaction","sqlState":"40001"},"parameters":{},"parent":{"code":"ER_LOCK_DEADLOCK","errno":1213,"sql":"ALTER TABLE `Roles` CHANGE `created_at` `created_at` DATETIME NOT NULL;","sqlMessage":"Deadlock found when trying to get lock; try restarting transaction","sqlState":"40001"},"service":"db-modeler","sql":"ALTER TABLE `Roles` CHANGE `created_at` `created_at` DATETIME NOT NULL;","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Roles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:984:11)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 14:43:24"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Roles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:984:11)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Deadlock found when trying to get lock; try restarting transaction
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_LOCK_DEADLOCK',
    errno: 1213,
    sqlState: '40001',
    sqlMessage: 'Deadlock found when trying to get lock; try restarting transaction',
    sql: 'ALTER TABLE `Roles` CHANGE `created_at` `created_at` DATETIME NOT NULL;',
    parameters: undefined
  },
  original: Error: Deadlock found when trying to get lock; try restarting transaction
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_LOCK_DEADLOCK',
    errno: 1213,
    sqlState: '40001',
    sqlMessage: 'Deadlock found when trying to get lock; try restarting transaction',
    sql: 'ALTER TABLE `Roles` CHANGE `created_at` `created_at` DATETIME NOT NULL;',
    parameters: undefined
  },
  sql: 'ALTER TABLE `Roles` CHANGE `created_at` `created_at` DATETIME NOT NULL;',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Roles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:984:11)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Deadlock found when trying to get lock; try restarting transaction
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_LOCK_DEADLOCK',
    errno: 1213,
    sqlState: '40001',
    sqlMessage: 'Deadlock found when trying to get lock; try restarting transaction',
    sql: 'ALTER TABLE `Roles` CHANGE `created_at` `created_at` DATETIME NOT NULL;',
    parameters: undefined
  },
  original: Error: Deadlock found when trying to get lock; try restarting transaction
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_LOCK_DEADLOCK',
    errno: 1213,
    sqlState: '40001',
    sqlMessage: 'Deadlock found when trying to get lock; try restarting transaction',
    sql: 'ALTER TABLE `Roles` CHANGE `created_at` `created_at` DATETIME NOT NULL;',
    parameters: undefined
  },
  sql: 'ALTER TABLE `Roles` CHANGE `created_at` `created_at` DATETIME NOT NULL;',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:46:11"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:46:11"}
[31merror[39m: 数据库初始化失败: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'. {"name":"SequelizeDatabaseError","original":{"code":"ER_FK_CANNOT_DROP_PARENT","errno":3730,"sql":"DROP TABLE IF EXISTS `Users`;","sqlMessage":"Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.","sqlState":"HY000"},"parameters":{},"parent":{"code":"ER_FK_CANNOT_DROP_PARENT","errno":3730,"sql":"DROP TABLE IF EXISTS `Users`;","sqlMessage":"Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.","sqlState":"HY000"},"service":"db-modeler","sql":"DROP TABLE IF EXISTS `Users`;","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)\n    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)\n    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 14:46:11"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)
    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  original: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  sql: 'DROP TABLE IF EXISTS `Users`;',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)
    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  original: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  sql: 'DROP TABLE IF EXISTS `Users`;',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:46:21"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:46:21"}
[31merror[39m: 数据库初始化失败: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'. {"name":"SequelizeDatabaseError","original":{"code":"ER_FK_CANNOT_DROP_PARENT","errno":3730,"sql":"DROP TABLE IF EXISTS `Users`;","sqlMessage":"Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.","sqlState":"HY000"},"parameters":{},"parent":{"code":"ER_FK_CANNOT_DROP_PARENT","errno":3730,"sql":"DROP TABLE IF EXISTS `Users`;","sqlMessage":"Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.","sqlState":"HY000"},"service":"db-modeler","sql":"DROP TABLE IF EXISTS `Users`;","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)\n    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)\n    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:121:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 14:46:21"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)
    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:121:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  original: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  sql: 'DROP TABLE IF EXISTS `Users`;',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)
    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:121:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  original: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  sql: 'DROP TABLE IF EXISTS `Users`;',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
(node:22904) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 exit listeners added to [Bus]. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:49:42"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:49:42"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 14:49:42"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 14:49:42"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[31merror[39m: 数据库初始化失败: Duplicate key name 'users_email' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)","sqlMessage":"Duplicate key name 'users_email'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)","sqlMessage":"Duplicate key name 'users_email'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 14:49:43"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Duplicate key name 'users_email'
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_DUP_KEYNAME',
    errno: 1061,
    sqlState: '42000',
    sqlMessage: "Duplicate key name 'users_email'",
    sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
    parameters: undefined
  },
  original: Error: Duplicate key name 'users_email'
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_DUP_KEYNAME',
    errno: 1061,
    sqlState: '42000',
    sqlMessage: "Duplicate key name 'users_email'",
    sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Duplicate key name 'users_email'
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_DUP_KEYNAME',
    errno: 1061,
    sqlState: '42000',
    sqlMessage: "Duplicate key name 'users_email'",
    sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
    parameters: undefined
  },
  original: Error: Duplicate key name 'users_email'
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_DUP_KEYNAME',
    errno: 1061,
    sqlState: '42000',
    sqlMessage: "Duplicate key name 'users_email'",
    sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Duplicate key name 'users_email'
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 14:53:40"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:02:45"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:02:45"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:02:45"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:02:45"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:02:45"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:08:22"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:08:22"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:08:22"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:08:22"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:08:22"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:17:05"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:17:05"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:17:05"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:17:05"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:17:05"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[31merror[39m: 数据库连接测试失败: Access denied for user 'root'@'192.168.65.1' (using password: YES) {"name":"SequelizeAccessDeniedError","original":{"code":"ER_ACCESS_DENIED_ERROR","errno":1045,"sqlMessage":"Access denied for user 'root'@'192.168.65.1' (using password: YES)","sqlState":"28000"},"parent":{"code":"ER_ACCESS_DENIED_ERROR","errno":1045,"sqlMessage":"Access denied for user 'root'@'192.168.65.1' (using password: YES)","sqlState":"28000"},"service":"db-modeler","stack":"SequelizeAccessDeniedError: Access denied for user 'root'@'192.168.65.1' (using password: YES)\n    at ConnectionManager.connect (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/connection-manager.js:94:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ConnectionManager._connect (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:222:24)\n    at async /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:174:32\n    at async ConnectionManager.getConnection (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:197:7)\n    at async /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:305:26\n    at async Sequelize.authenticate (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:457:5)\n    at async validateDatabaseConnection (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:41:5)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:64:34)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)","timestamp":"2024-12-04 15:25:28"}
[31merror[39m: 数据库初始化失败: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES) {"service":"db-modeler","stack":"Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)\n    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:25:28"}
UserController 初始化失败 Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[31merror[39m: 数据库连接测试失败: Access denied for user 'root'@'192.168.65.1' (using password: YES) {"name":"SequelizeAccessDeniedError","original":{"code":"ER_ACCESS_DENIED_ERROR","errno":1045,"sqlMessage":"Access denied for user 'root'@'192.168.65.1' (using password: YES)","sqlState":"28000"},"parent":{"code":"ER_ACCESS_DENIED_ERROR","errno":1045,"sqlMessage":"Access denied for user 'root'@'192.168.65.1' (using password: YES)","sqlState":"28000"},"service":"db-modeler","stack":"SequelizeAccessDeniedError: Access denied for user 'root'@'192.168.65.1' (using password: YES)\n    at ConnectionManager.connect (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/connection-manager.js:94:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ConnectionManager._connect (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:222:24)\n    at async /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:174:32\n    at async ConnectionManager.getConnection (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:197:7)\n    at async /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:305:26\n    at async Sequelize.authenticate (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:457:5)\n    at async validateDatabaseConnection (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:41:5)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:64:34)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)","timestamp":"2024-12-04 15:26:50"}
[31merror[39m: 数据库初始化失败: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES) {"service":"db-modeler","stack":"Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)\n    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:26:50"}
初始化 Sequelize 实例失败 Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1
DatabaseController 初始化失败: Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:34:56"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:34:56"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:34:56"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:34:56"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:34:56"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:34:56"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:35:01"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:35:01"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:35:01"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:35:01"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:35:01"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:35:01"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:35:01"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:35:01"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:35:02"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:37:29"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:40:09"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:40:09"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:40:09"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:40:09"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:40:09"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:40:09"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:40:09"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:42:19"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:44:21"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:44:38"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:44:38"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:38"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:38"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:38"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:38"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:38"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:38"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:44:38"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:45:26"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:45:45"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:46:51"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:49:46"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:49:47"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:47"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:47"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:47"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:47"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:47"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:47"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:49:47"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:50:02"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:53:55"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:55:18"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 16:06:08"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 16:06:08"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:08"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:08"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:08"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:08"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:08"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:08"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 16:06:08"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
