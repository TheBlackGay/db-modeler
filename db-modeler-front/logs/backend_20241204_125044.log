
> db-modeler@1.0.0 dev
> nodemon src/server.js

[33m[nodemon] 3.1.7[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 数据库同步完成 {"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 开始检查管理员账号 {"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 管理员账号检查结果: {"exists":false,"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 准备创建管理员账号... {"service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 生成密码哈希... {"password":"admin123","service":"db-modeler","timestamp":"2024-12-04 12:50:47"}
[32minfo[39m: 密码哈希生成完成 {"hashedPassword":"$2a$10$TVzMK4/jaC4xHy7QUCxmyeQYJMi49TQqJHSxH/MR9lVKQBseQxkeS","service":"db-modeler","timestamp":"2024-12-04 12:50:48"}
创建用户前的密码处理: {
  originalPassword: '$2a$10$TVzMK4/jaC4xHy7QUCxmyeQYJMi49TQqJHSxH/MR9lVKQBseQxkeS',
  type: 'string',
  length: 60
}
密码已哈希: {
  hashedPassword: '$2a$10$CWUsBxqAY2bJbqPpGg36AefgCNUnU1xNoYu7AJzmlSvovWgyzAH/u',
  type: 'string',
  length: 60
}
[32minfo[39m: 管理员账号创建完成: {"email":"admin@example.com","id":"3d869e5c-5918-45a7-b4d0-102ece127b87","passwordHash":"$2a$10$TVzMK4/jaC4xHy7QUCxmyeQYJMi49TQqJHSxH/MR9lVKQBseQxkeS","role":"admin","service":"db-modeler","status":"active","success":true,"timestamp":"2024-12-04 12:50:48","username":"admin"}
开始验证密码: {
  inputPassword: 'admin123',
  inputType: 'string',
  inputLength: 8,
  storedHash: '$2a$10$CWUsBxqAY2bJbqPpGg36AefgCNUnU1xNoYu7AJzmlSvovWgyzAH/u',
  storedType: 'string',
  storedLength: 60
}
密码验证结果: { inputPassword: 'admin123', passwordValid: false }
[32minfo[39m: 验证新创建的管理员密码: {"inputPassword":"admin123","isValid":false,"service":"db-modeler","storedHash":"$2a$10$CWUsBxqAY2bJbqPpGg36AefgCNUnU1xNoYu7AJzmlSvovWgyzAH/u","timestamp":"2024-12-04 12:50:48"}
[32minfo[39m: 数据库和模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 12:50:48"}
[32minfo[39m: 服务器运行在 http://localhost:5001 {"service":"db-modeler","timestamp":"2024-12-04 12:50:48"}
[32minfo[39m: 环境: development {"service":"db-modeler","timestamp":"2024-12-04 12:50:48"}
info: Request processed {"duration":4,"ip":"::1","method":"OPTIONS","path":"/api/v1/auth/login","requestId":"8324e3f1-4b69-4a30-9cf8-cf271aad73b6","statusCode":204,"timestamp":"2024-12-04T04:50:59.852Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'OPTIONS', path: '/api/v1/auth/login' },
  duration: 4,
  memory: {
    rss: { before: 102416384, after: 102809600, change: 393216 },
    heapUsed: { before: 40209728, after: 40257240, change: 47512 }
  },
  cpu: { user: 2859, system: 436 },
  systemLoad: [ 4.52001953125, 4.84033203125, 5.001953125 ]
}
登录尝试: { username: 'testuser4', passwordType: 'string', passwordLength: 9 }
用户模型初始化成功
Executing (default): SELECT `id`, `username`, `email`, `password`, `role`, `status` FROM `users` AS `User` WHERE `User`.`username` = 'testuser4';
用户未找到: testuser4
error: Request failed {"duration":18,"ip":"::1","method":"POST","path":"/login","requestId":"e3001128-8734-4109-bd7d-a4868bb35bec","statusCode":401,"timestamp":"2024-12-04T04:50:59.872Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'POST', path: '/login' },
  duration: 19,
  memory: {
    rss: { before: 102875136, after: 105103360, change: 2228224 },
    heapUsed: { before: 40303488, after: 41520248, change: 1216760 }
  },
  cpu: { user: 12460, system: 2317 },
  systemLoad: [ 4.52001953125, 4.84033203125, 5.001953125 ]
}
info: Request processed {"duration":0,"ip":"::1","method":"OPTIONS","path":"/api/v1/auth/register","requestId":"8a479493-069c-43a2-a7eb-c4c3059cc4b8","statusCode":204,"timestamp":"2024-12-04T04:51:07.883Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'OPTIONS', path: '/api/v1/auth/register' },
  duration: 1,
  memory: {
    rss: { before: 105103360, after: 105119744, change: 16384 },
    heapUsed: { before: 41567088, after: 41594784, change: 27696 }
  },
  cpu: { user: 952, system: 236 },
  systemLoad: [ 5.35888671875, 5.0087890625, 5.06005859375 ]
}
注册请求: {
  username: 'testuser4',
  email: 'testuser4@cm.com',
  passwordType: 'string',
  passwordLength: 9
}
用户模型初始化成功
Executing (default): SELECT `id`, `username`, `email`, `password`, `role`, `lastLogin`, `status`, `createdAt`, `updatedAt` FROM `users` AS `User` WHERE (`User`.`username` = 'testuser4' OR `User`.`email` = 'testuser4@cm.com') LIMIT 1;
开始创建新用户...
创建用户前的密码处理: { originalPassword: 'testuser4', type: 'string', length: 9 }
密码已哈希: {
  hashedPassword: '$2a$10$4nOKUWnZ0IpYtNQ1oS4bVOO26JWiuYpP7IEG0Fp8ETiwyPLDP8yi2',
  type: 'string',
  length: 60
}
Executing (default): INSERT INTO `users` (`id`,`username`,`email`,`password`,`role`,`status`,`createdAt`,`updatedAt`) VALUES (?,?,?,?,?,?,?,?);
新用户创建成功: {
  id: 'c6de4274-9d98-42a5-a3d3-dce3753ceba3',
  username: 'testuser4',
  email: 'testuser4@cm.com',
  hashedPassword: '$2a$10$4nOKUWnZ0IpYtNQ1oS4bVOO26JWiuYpP7IEG0Fp8ETiwyPLDP8yi2',
  passwordType: 'string',
  passwordLength: 60
}
info: Request processed {"duration":101,"ip":"::1","method":"POST","path":"/register","requestId":"1ac7b8c4-3b3d-46af-9428-2690c3565b13","statusCode":201,"timestamp":"2024-12-04T04:51:07.986Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'POST', path: '/register' },
  duration: 101,
  memory: {
    rss: { before: 105136128, after: 104742912, change: -393216 },
    heapUsed: { before: 41631200, after: 41956872, change: 325672 }
  },
  cpu: { user: 89286, system: 2121 },
  systemLoad: [ 5.35888671875, 5.0087890625, 5.06005859375 ]
}
info: Request processed {"duration":1,"ip":"::1","method":"OPTIONS","path":"/api/v1/auth/login","requestId":"cfd5dbcb-e6e9-49ab-a366-bae04dc307c4","statusCode":204,"timestamp":"2024-12-04T04:51:10.853Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'OPTIONS', path: '/api/v1/auth/login' },
  duration: 1,
  memory: {
    rss: { before: 104775680, after: 104775680, change: 0 },
    heapUsed: { before: 42004400, after: 42031720, change: 27320 }
  },
  cpu: { user: 856, system: 306 },
  systemLoad: [ 5.890625, 5.12451171875, 5.1005859375 ]
}
登录尝试: { username: 'testuser4', passwordType: 'string', passwordLength: 9 }
用户模型初始化成功
Executing (default): SELECT `id`, `username`, `email`, `password`, `role`, `status` FROM `users` AS `User` WHERE `User`.`username` = 'testuser4';
找到用户: {
  id: 'c6de4274-9d98-42a5-a3d3-dce3753ceba3',
  username: 'testuser4',
  hashedPassword: '$2a$10$4nOKUWnZ0IpYtNQ1oS4bVOO26JWiuYpP7IEG0Fp8ETiwyPLDP8yi2',
  passwordType: 'string',
  passwordLength: 60
}
开始验证密码: {
  inputPassword: 'testuser4',
  inputType: 'string',
  inputLength: 9,
  storedHash: '$2a$10$4nOKUWnZ0IpYtNQ1oS4bVOO26JWiuYpP7IEG0Fp8ETiwyPLDP8yi2',
  storedType: 'string',
  storedLength: 60
}
密码验证结果: { inputPassword: 'testuser4', passwordValid: true }
密码验证结果: true
生成 JWT token...
Executing (default): UPDATE `users` SET `lastLogin`=?,`updatedAt`=? WHERE `id` = ?
登录成功: testuser4
info: Request processed {"duration":104,"ip":"::1","method":"POST","path":"/login","requestId":"4bd12442-7b81-42e3-bd29-2540c3fab255","statusCode":200,"timestamp":"2024-12-04T04:51:10.959Z","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}
Performance Metrics: {
  request: { method: 'POST', path: '/login' },
  duration: 104,
  memory: {
    rss: { before: 104873984, after: 104169472, change: -704512 },
    heapUsed: { before: 42076600, after: 41966992, change: -109608 }
  },
  cpu: { user: 92073, system: 2113 },
  systemLoad: [ 5.890625, 5.12451171875, 5.1005859375 ]
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 12:53:18"}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:53:19"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:53:19"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:53:19"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:53:19"}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:53:19"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:53:19"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:53:19"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:53:19"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:53:19"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:53:19"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:53:19"}
[31merror[39m: 数据库初始化失败 {"error":"Table 'pdmaner.users' doesn't exist","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.showIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:254:12)\n    at async User.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:988:29)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 12:53:19"}
[31merror[39m: 服务器启动失败 Table 'pdmaner.users' doesn't exist {"name":"SequelizeDatabaseError","original":{"code":"ER_NO_SUCH_TABLE","errno":1146,"sql":"SHOW INDEX FROM `users`","sqlMessage":"Table 'pdmaner.users' doesn't exist","sqlState":"42S02"},"parameters":{},"parent":{"code":"ER_NO_SUCH_TABLE","errno":1146,"sql":"SHOW INDEX FROM `users`","sqlMessage":"Table 'pdmaner.users' doesn't exist","sqlState":"42S02"},"service":"db-modeler","sql":"SHOW INDEX FROM `users`","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.showIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:254:12)\n    at async User.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:988:29)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 12:53:19"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 12:54:23"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:54:24"}
[31merror[39m: 数据库初始化失败 {"error":"Duplicate key name 'tables_name'","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 12:54:24"}
[31merror[39m: 服务器启动失败 Duplicate key name 'tables_name' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 12:54:24"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 12:56:03"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:04"}
[31merror[39m: 数据库初始化失败 {"error":"Duplicate key name 'tables_name'","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 12:56:04"}
[31merror[39m: 服务器启动失败 Duplicate key name 'tables_name' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 12:56:04"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"undefined","service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[31merror[39m: Sequelize 实例为空 {"service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
[31merror[39m: 创建模型 Database 失败 {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"errorMessage":"Sequelize 实例为 null 或 undefined","errorStack":"Error: Sequelize 实例为 null 或 undefined\n    at validateSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:8:11)\n    at createBaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:43:5)\n    at initDatabaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/Database.js:6:20)\n    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:35:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","optionKeys":["tableName","hooks"],"sequelizeType":"undefined","service":"db-modeler","timestamp":"2024-12-04 12:56:27"}
控制器初始化失败 Error: Sequelize 实例为 null 或 undefined
    at validateSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:8:11)
    at createBaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:43:5)
    at initDatabaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/Database.js:6:20)
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:35:28)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error: Sequelize 实例为 null 或 undefined
    at validateSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:8:11)
    at createBaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:43:5)
    at initDatabaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/Database.js:6:20)
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:35:28)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 12:56:37"}
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 12:56:38"}
UserController 初始化失败 TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:40:26)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5
  const User = sequelize.define('User', {
                         ^

TypeError: Cannot read properties of undefined (reading 'define')
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:40:26)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:04:56"}
UserController 初始化失败 TypeError: sequelize.define is not a function
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:42:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

TypeError: sequelize.define is not a function
    at initUserModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/User.js:5:26)
    at UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:42:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:05:37"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"undefined","service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[31merror[39m: Sequelize 实例为空 {"service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
[31merror[39m: 创建模型 Database 失败 {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"errorMessage":"Sequelize 实例为 null 或 undefined","errorStack":"Error: Sequelize 实例为 null 或 undefined\n    at validateSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:8:11)\n    at createBaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:43:5)\n    at initDatabaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/Database.js:6:20)\n    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:35:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","optionKeys":["tableName","hooks"],"sequelizeType":"undefined","service":"db-modeler","timestamp":"2024-12-04 13:05:38"}
控制器初始化失败 Error: Sequelize 实例为 null 或 undefined
    at validateSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:8:11)
    at createBaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:43:5)
    at initDatabaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/Database.js:6:20)
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:35:28)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error: Sequelize 实例为 null 或 undefined
    at validateSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:8:11)
    at createBaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/modelUtils.js:43:5)
    at initDatabaseModel (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/models/Database.js:6:20)
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:35:28)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:06:12"}
[31merror[39m: 数据库初始化失败 {"error":"Table 'pdmaner.user' doesn't exist","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.showIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:254:12)\n    at async User.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:988:29)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:06:13"}
[31merror[39m: 服务器启动失败 Table 'pdmaner.user' doesn't exist {"name":"SequelizeDatabaseError","original":{"code":"ER_NO_SUCH_TABLE","errno":1146,"sql":"SHOW INDEX FROM `user`","sqlMessage":"Table 'pdmaner.user' doesn't exist","sqlState":"42S02"},"parameters":{},"parent":{"code":"ER_NO_SUCH_TABLE","errno":1146,"sql":"SHOW INDEX FROM `user`","sqlMessage":"Table 'pdmaner.user' doesn't exist","sqlState":"42S02"},"service":"db-modeler","sql":"SHOW INDEX FROM `user`","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.showIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:254:12)\n    at async User.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:988:29)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:06:13"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
(node:19653) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 exit listeners added to [Bus]. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:09:28"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:09:29"}
[31merror[39m: 数据库初始化失败 {"error":"Duplicate key name 'tables_name'","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:09:29"}
[31merror[39m: 服务器启动失败 Duplicate key name 'tables_name' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:09:29"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
DatabaseController 初始化成功
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:21:32"}
[31merror[39m: 数据库初始化失败 {"error":"Duplicate key name 'tables_name'","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:21:34"}
[31merror[39m: 服务器启动失败 Duplicate key name 'tables_name' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:21:34"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
DatabaseController 初始化成功
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","host","port","dbType","dbName","username","password","status","lastSync","userId"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","host","port","dbType","dbName","username","password","status","lastSync","userId","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:34:20"}
[31merror[39m: 数据库初始化失败 {"error":"Duplicate key name 'tables_name'","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:34:21"}
[31merror[39m: 服务器启动失败 Duplicate key name 'tables_name' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:34:21"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
DatabaseController 初始化成功
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:05"}
[31merror[39m: 数据库初始化失败 {"error":"Duplicate key name 'tables_name'","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:57:05"}
[31merror[39m: 服务器启动失败 Duplicate key name 'tables_name' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:57:05"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT 1+1 AS result
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:27"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:27"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:27"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:27"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:27"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:27"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:27"}
DatabaseController 初始化成功
[32minfo[39m: 服务器配置: {"DB_HOST":"127.0.0.1","DB_NAME":"pdmaner","DB_PORT":"13306","PORT":"5001","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始初始化所有模型 {"sequelizeInstanceKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"sequelizeInstanceType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: Database {"attributeKeys":["name","description","type","host","port","username","password","status","lastSync"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 Database 创建成功 {"modelAttributes":["id","name","description","type","host","port","username","password","status","lastSync","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: TableSchema {"attributeKeys":["name","description","schema","type","status","columns","indexes","constraints","metadata"],"optionKeys":["tableName","hooks"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 TableSchema 创建成功 {"modelAttributes":["id","name","description","schema","type","status","columns","indexes","constraints","metadata","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: Table {"attributeKeys":["name","description","type","status","columns","indexes","constraints"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 Table 创建成功 {"modelAttributes":["id","name","description","type","status","columns","indexes","constraints","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: ColumnType {"attributeKeys":["name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 ColumnType 创建成功 {"modelAttributes":["id","name","displayName","category","databaseType","description","precision","scale","defaultLength","isNullable","isUnsigned","status","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 开始创建基础模型: DataMapping {"attributeKeys":["name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive"],"optionKeys":["tableName","indexes"],"sequelizeType":"object","service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: Sequelize 实例属性: {"authenticate":"function","define":"function","modelKeys":["options","config","dialect","queryInterface","models","modelManager","connectionManager"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型 DataMapping 创建成功 {"modelAttributes":["id","name","description","type","sourceType","targetType","status","configuration","mappingRules","schedule","lastExecutionTime","nextExecutionTime","executionCount","successCount","failureCount","isActive","createdAt","updatedAt","deletedAt"],"modelKeys":["sequelize","options","associations","underscored","tableName","_schema","_schemaDelimiter","rawAttributes","_indexes","primaryKeys","_readOnlyAttributes","_timestampAttributes","_hasReadOnlyAttributes","_dataTypeChanges","_dataTypeSanitizers","_hasBooleanAttributes","_hasDateAttributes","_jsonAttributes","_virtualAttributes","_defaultValues","fieldRawAttributesMap","uniqueKeys","fieldAttributeMap","_hasJsonAttributes","_hasVirtualAttributes","_hasDefaultValues","tableAttributes","primaryKeyAttributes","primaryKeyAttribute","primaryKeyField","_hasPrimaryKeys","_isPrimaryKey","_attributeManipulation","autoIncrementAttribute","_scope","_scopeNames"],"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[32minfo[39m: 模型初始化成功 {"service":"db-modeler","timestamp":"2024-12-04 13:57:28"}
[31merror[39m: 数据库初始化失败 {"error":"Duplicate key name 'tables_name'","service":"db-modeler","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:57:29"}
[31merror[39m: 服务器启动失败 Duplicate key name 'tables_name' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","sqlMessage":"Duplicate key name 'tables_name'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `tables` ADD UNIQUE INDEX `tables_name` (`name`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Table.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async initializeDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/database.js:32:5)\n    at async startServer (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/server.js:32:5)","timestamp":"2024-12-04 13:57:29"}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:16:37"}
[31merror[39m: 数据库初始化失败: model.sync is not a function {"service":"db-modeler","stack":"TypeError: model.sync is not a function\n    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 14:16:37"}
UserController 初始化失败 TypeError: model.sync is not a function
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

TypeError: model.sync is not a function
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:43:11"}
[31merror[39m: 数据库初始化失败: model.sync is not a function {"service":"db-modeler","stack":"TypeError: model.sync is not a function\n    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 14:43:11"}
初始化 Sequelize 实例失败 TypeError: model.sync is not a function
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1
DatabaseController 初始化失败: TypeError: model.sync is not a function
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:109:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: model.sync is not a function
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:43:20"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:43:20"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:43:23"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:43:23"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:43:23"}
[31merror[39m: 数据库初始化失败: Deadlock found when trying to get lock; try restarting transaction {"name":"SequelizeDatabaseError","original":{"code":"ER_LOCK_DEADLOCK","errno":1213,"sql":"ALTER TABLE `UserRoles` DROP FOREIGN KEY `UserRoles_ibfk_1`;","sqlMessage":"Deadlock found when trying to get lock; try restarting transaction","sqlState":"40001"},"parameters":{},"parent":{"code":"ER_LOCK_DEADLOCK","errno":1213,"sql":"ALTER TABLE `UserRoles` DROP FOREIGN KEY `UserRoles_ibfk_1`;","sqlMessage":"Deadlock found when trying to get lock; try restarting transaction","sqlState":"40001"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` DROP FOREIGN KEY `UserRoles_ibfk_1`;","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.removeConstraint (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query-interface.js:67:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:979:17)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 14:43:23"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.removeConstraint (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query-interface.js:67:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:979:17)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Deadlock found when trying to get lock; try restarting transaction
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_LOCK_DEADLOCK',
    errno: 1213,
    sqlState: '40001',
    sqlMessage: 'Deadlock found when trying to get lock; try restarting transaction',
    sql: 'ALTER TABLE `UserRoles` DROP FOREIGN KEY `UserRoles_ibfk_1`;',
    parameters: undefined
  },
  original: Error: Deadlock found when trying to get lock; try restarting transaction
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_LOCK_DEADLOCK',
    errno: 1213,
    sqlState: '40001',
    sqlMessage: 'Deadlock found when trying to get lock; try restarting transaction',
    sql: 'ALTER TABLE `UserRoles` DROP FOREIGN KEY `UserRoles_ibfk_1`;',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` DROP FOREIGN KEY `UserRoles_ibfk_1`;',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.removeConstraint (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query-interface.js:67:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:979:17)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Deadlock found when trying to get lock; try restarting transaction
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_LOCK_DEADLOCK',
    errno: 1213,
    sqlState: '40001',
    sqlMessage: 'Deadlock found when trying to get lock; try restarting transaction',
    sql: 'ALTER TABLE `UserRoles` DROP FOREIGN KEY `UserRoles_ibfk_1`;',
    parameters: undefined
  },
  original: Error: Deadlock found when trying to get lock; try restarting transaction
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_LOCK_DEADLOCK',
    errno: 1213,
    sqlState: '40001',
    sqlMessage: 'Deadlock found when trying to get lock; try restarting transaction',
    sql: 'ALTER TABLE `UserRoles` DROP FOREIGN KEY `UserRoles_ibfk_1`;',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` DROP FOREIGN KEY `UserRoles_ibfk_1`;',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Deadlock found when trying to get lock; try restarting transaction
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:46:11"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:46:11"}
[31merror[39m: 数据库初始化失败: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'. {"name":"SequelizeDatabaseError","original":{"code":"ER_FK_CANNOT_DROP_PARENT","errno":3730,"sql":"DROP TABLE IF EXISTS `Users`;","sqlMessage":"Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.","sqlState":"HY000"},"parameters":{},"parent":{"code":"ER_FK_CANNOT_DROP_PARENT","errno":3730,"sql":"DROP TABLE IF EXISTS `Users`;","sqlMessage":"Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.","sqlState":"HY000"},"service":"db-modeler","sql":"DROP TABLE IF EXISTS `Users`;","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)\n    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)\n    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 14:46:11"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)
    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  original: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  sql: 'DROP TABLE IF EXISTS `Users`;',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)
    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:116:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  original: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  sql: 'DROP TABLE IF EXISTS `Users`;',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:46:21"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:46:21"}
[31merror[39m: 数据库初始化失败: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'. {"name":"SequelizeDatabaseError","original":{"code":"ER_FK_CANNOT_DROP_PARENT","errno":3730,"sql":"DROP TABLE IF EXISTS `Users`;","sqlMessage":"Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.","sqlState":"HY000"},"parameters":{},"parent":{"code":"ER_FK_CANNOT_DROP_PARENT","errno":3730,"sql":"DROP TABLE IF EXISTS `Users`;","sqlMessage":"Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.","sqlState":"HY000"},"service":"db-modeler","sql":"DROP TABLE IF EXISTS `Users`;","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)\n    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)\n    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:121:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 14:46:21"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)
    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:121:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  original: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  sql: 'DROP TABLE IF EXISTS `Users`;',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.dropTable (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:111:5)
    at async Users.drop (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:1007:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:936:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:121:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  original: Error: Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_FK_CANNOT_DROP_PARENT',
    errno: 3730,
    sqlState: 'HY000',
    sqlMessage: "Cannot drop table 'Users' referenced by a foreign key constraint 'AuditLogs_ibfk_1' on table 'AuditLogs'.",
    sql: 'DROP TABLE IF EXISTS `Users`;',
    parameters: undefined
  },
  sql: 'DROP TABLE IF EXISTS `Users`;',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 14:49:43"}
[31merror[39m: 数据库初始化失败: Duplicate key name 'users_email' {"name":"SequelizeDatabaseError","original":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)","sqlMessage":"Duplicate key name 'users_email'","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_DUP_KEYNAME","errno":1061,"sql":"ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)","sqlMessage":"Duplicate key name 'users_email'","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 14:49:43"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Duplicate key name 'users_email'
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_DUP_KEYNAME',
    errno: 1061,
    sqlState: '42000',
    sqlMessage: "Duplicate key name 'users_email'",
    sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
    parameters: undefined
  },
  original: Error: Duplicate key name 'users_email'
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_DUP_KEYNAME',
    errno: 1061,
    sqlState: '42000',
    sqlMessage: "Duplicate key name 'users_email'",
    sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async Users.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Duplicate key name 'users_email'
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_DUP_KEYNAME',
    errno: 1061,
    sqlState: '42000',
    sqlMessage: "Duplicate key name 'users_email'",
    sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
    parameters: undefined
  },
  original: Error: Duplicate key name 'users_email'
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_DUP_KEYNAME',
    errno: 1061,
    sqlState: '42000',
    sqlMessage: "Duplicate key name 'users_email'",
    sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `Users` ADD UNIQUE INDEX `users_email` (`email`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 14:53:40"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 14:53:40"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:02:44"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:02:45"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:02:45"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:02:45"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:02:45"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:02:45"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:08:21"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:08:22"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:08:22"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:08:22"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:08:22"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:08:22"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:17:03"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:17:03"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:17:04"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:17:05"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:17:05"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:17:05"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:17:05"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:17:05"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:136:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[31merror[39m: 数据库连接测试失败: Access denied for user 'root'@'192.168.65.1' (using password: YES) {"name":"SequelizeAccessDeniedError","original":{"code":"ER_ACCESS_DENIED_ERROR","errno":1045,"sqlMessage":"Access denied for user 'root'@'192.168.65.1' (using password: YES)","sqlState":"28000"},"parent":{"code":"ER_ACCESS_DENIED_ERROR","errno":1045,"sqlMessage":"Access denied for user 'root'@'192.168.65.1' (using password: YES)","sqlState":"28000"},"service":"db-modeler","stack":"SequelizeAccessDeniedError: Access denied for user 'root'@'192.168.65.1' (using password: YES)\n    at ConnectionManager.connect (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/connection-manager.js:94:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ConnectionManager._connect (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:222:24)\n    at async /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:174:32\n    at async ConnectionManager.getConnection (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:197:7)\n    at async /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:305:26\n    at async Sequelize.authenticate (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:457:5)\n    at async validateDatabaseConnection (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:41:5)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:64:34)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)","timestamp":"2024-12-04 15:25:28"}
[31merror[39m: 数据库初始化失败: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES) {"service":"db-modeler","stack":"Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)\n    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:25:28"}
初始化 Sequelize 实例失败 Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1
DatabaseController 初始化失败: Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[31merror[39m: 数据库连接测试失败: Access denied for user 'root'@'192.168.65.1' (using password: YES) {"name":"SequelizeAccessDeniedError","original":{"code":"ER_ACCESS_DENIED_ERROR","errno":1045,"sqlMessage":"Access denied for user 'root'@'192.168.65.1' (using password: YES)","sqlState":"28000"},"parent":{"code":"ER_ACCESS_DENIED_ERROR","errno":1045,"sqlMessage":"Access denied for user 'root'@'192.168.65.1' (using password: YES)","sqlState":"28000"},"service":"db-modeler","stack":"SequelizeAccessDeniedError: Access denied for user 'root'@'192.168.65.1' (using password: YES)\n    at ConnectionManager.connect (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/connection-manager.js:94:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ConnectionManager._connect (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:222:24)\n    at async /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:174:32\n    at async ConnectionManager.getConnection (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:197:7)\n    at async /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:305:26\n    at async Sequelize.authenticate (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:457:5)\n    at async validateDatabaseConnection (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:41:5)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:64:34)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)","timestamp":"2024-12-04 15:26:50"}
[31merror[39m: 数据库初始化失败: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES) {"service":"db-modeler","stack":"Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)\n    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:26:50"}
初始化 Sequelize 实例失败 Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1
DatabaseController 初始化失败: Error: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)
    at initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:66:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: 数据库连接失败: Access denied for user 'root'@'192.168.65.1' (using password: YES)
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:34:55"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:34:56"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:34:56"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:34:56"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:34:56"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:34:56"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:34:56"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 删除表 AuditLogs {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 删除表 UserRoles {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 删除表 Roles {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 删除表 Users {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:35:02"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:35:02"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:37:29"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:37:29"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:40:09"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:40:09"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:40:09"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:40:09"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:42:19"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:42:19"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async UserRoles.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `UserRoles` ADD UNIQUE INDEX `user_roles_user_id_role_id` (`userId`, `roleId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:21"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:44:21"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:44:39"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:44:39"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:39"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:39"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:39"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:39"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:39"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:44:39"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:44:39"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:25"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:45:25"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:45:45"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:45:45"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:46:51"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:46:51"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:49:46"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:49:46"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:46"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:46"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:46"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:46"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:46"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:49:46"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:49:46"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:50:02"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:50:02"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:53:55"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 15:53:55"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 15:55:18"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)\n    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)\n    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1","timestamp":"2024-12-04 15:55:18"}
初始化 Sequelize 实例失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
DatabaseController 初始化失败: Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async initSequelizeInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:13:12)
    at async DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:37:34)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1 {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49
      throw new Error(`初始化失败: ${error.message}`);
            ^

Error: 初始化失败: Key column 'userId' doesn't exist in table
    at DatabaseController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/DatabaseController.js:313:1

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 16:06:09"}
[32minfo[39m: 数据库连接成功 {"service":"db-modeler","timestamp":"2024-12-04 16:06:09"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:09"}
[32minfo[39m: 系统表 Users 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:09"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:09"}
[32minfo[39m: 系统表 Roles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:09"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:09"}
[32minfo[39m: 系统表 UserRoles 同步完成 {"service":"db-modeler","timestamp":"2024-12-04 16:06:09"}
[31merror[39m: 数据库初始化失败: Key column 'userId' doesn't exist in table {"name":"SequelizeDatabaseError","original":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_KEY_COLUMN_DOES_NOT_EXITS","errno":1072,"sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","sqlMessage":"Key column 'userId' doesn't exist in table","sqlState":"42000"},"service":"db-modeler","sql":"ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)","stack":"Error\n    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)\n    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)\n    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)\n    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7)","timestamp":"2024-12-04 16:06:09"}
UserController 初始化失败 Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}
node:internal/process/promises:288
            triggerUncaughtException(err, true /* fromPromise */);
            ^

Error
    at Query.run (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.addIndex (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)
    at async AuditLogs.sync (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/sequelize@6.37.5_83fb571525a744a0198d28eb28719c6d/node_modules/sequelize/lib/model.js:999:7)
    at async initDatabase (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/config/db.js:138:7)
    at async UserController.initializeController (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:38:25)
    at async UserController.getInstance (file:///Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/src/controllers/UserController.js:23:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  original: Error: Key column 'userId' doesn't exist in table
      at Packet.asError (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:475:34)
      at PacketParser.onPacket (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/Users/zhongjiafeng/Desktop/5000_Project/ai-project/db-modeler/node_modules/.pnpm/mysql2@3.11.5/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:517:28)
      at addChunk (node:internal/streams/readable:368:12)
      at readableAddChunk (node:internal/streams/readable:341:9)
      at Readable.push (node:internal/streams/readable:278:10) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'userId' doesn't exist in table",
    sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `AuditLogs` ADD INDEX `audit_logs_user_id` (`userId`)',
  parameters: {}
}

Node.js v18.20.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
